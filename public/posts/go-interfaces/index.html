<!doctype html>
<html lang="en-us">
  <head>
    <title>Go: interfaces // ev-log</title>
    <link rel="shortcut icon" href="/favicon.ico" />
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.149.0">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="John Doe" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="/css/main.min.5b1fcc8902588589c4767187402a3c29f8b8d7a6fdef6d9f8f77045bb0d14fee.css" />
    

    
    
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Go: interfaces">
  <meta name="twitter:description" content="Let’s have a first look at interfaces in Go Suppose we have two structs, Manager and Developer, and we want to have a function, showInfo, that prints certain information about them. To achieve this we have to use an interface (or generics, which are available since Go 1.18, but I’ll leave that for another post). Without interfaces the code would look like this:
package main import &#34;fmt&#34; type manager struct { name string salary int email string role string } type developer struct { name string salary int email string role string manager manager } // We are only interested in name, salary and role of our employees func showInfoM(m manager) { fmt.Printf(&#34;Name: %s, Salary: %d, Role: %s\n&#34;, m.name, m.salary, m.role) } func showInfoD(d developer) { fmt.Printf(&#34;Name: %s, Salary: %d, Role: %s\n&#34;, d.name, d.salary, d.role) } func main() { bob := manager{&#34;Bob&#34;, 7000, &#34;bob@example.com&#34;, &#34;Manager&#34;} joe := developer{&#34;Joe&#34;, 4000, &#34;joe@example.com&#34;, &#34;Developer&#34;, bob} marc := developer{&#34;Marc&#34;, 4500, &#34;marc@example.com&#34;, &#34;Developer&#34;, bob} showInfoM(bob) showInfoD(joe) showInfoD(marc) } Output:">

    <meta property="og:url" content="/posts/go-interfaces/">
  <meta property="og:site_name" content="ev-log">
  <meta property="og:title" content="Go: interfaces">
  <meta property="og:description" content="Let’s have a first look at interfaces in Go Suppose we have two structs, Manager and Developer, and we want to have a function, showInfo, that prints certain information about them. To achieve this we have to use an interface (or generics, which are available since Go 1.18, but I’ll leave that for another post). Without interfaces the code would look like this:
package main import &#34;fmt&#34; type manager struct { name string salary int email string role string } type developer struct { name string salary int email string role string manager manager } // We are only interested in name, salary and role of our employees func showInfoM(m manager) { fmt.Printf(&#34;Name: %s, Salary: %d, Role: %s\n&#34;, m.name, m.salary, m.role) } func showInfoD(d developer) { fmt.Printf(&#34;Name: %s, Salary: %d, Role: %s\n&#34;, d.name, d.salary, d.role) } func main() { bob := manager{&#34;Bob&#34;, 7000, &#34;bob@example.com&#34;, &#34;Manager&#34;} joe := developer{&#34;Joe&#34;, 4000, &#34;joe@example.com&#34;, &#34;Developer&#34;, bob} marc := developer{&#34;Marc&#34;, 4500, &#34;marc@example.com&#34;, &#34;Developer&#34;, bob} showInfoM(bob) showInfoD(joe) showInfoD(marc) } Output:">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2022-10-29T16:41:52+02:00">
    <meta property="article:modified_time" content="2022-10-29T16:41:52+02:00">


  </head>
  <body>
    <header class="app-header">
      <a href="/"><img class="app-header-avatar" src="/avatar.jpg" alt="John Doe" /></a>
      <span class="app-header-title">ev-log</span>
      <p>Welcome to my blog! I&#39;m a hobbyist and will mostly write about basic topics related to programming and devops as I learn along the way.</p>
      <div class="app-header-social">
        
          <a href="https://github.com/eh0-91" target="_blank" rel="noreferrer noopener me">
            <svg class="icon icon-github" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>github</title><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>
          </a>
        
      </div>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">Go: interfaces</h1>
      <div class="post-meta">
        <div>
          <svg class="icon icon-calendar" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>calendar</title><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
          Oct 29, 2022
        </div>
        <div>
          <svg class="icon icon-clock" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>clock</title><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
          3 min read
        </div>
      </div>
    </header>
    <div class="post-content">
      <h1 id="lets-have-a-first-look-at-interfaces-in-go">Let&rsquo;s have a first look at interfaces in Go</h1>
<p>Suppose we have two structs, Manager and Developer, and we want to have a function, showInfo, that prints certain
information about them. To achieve this we have to use an interface (or generics, which are available since Go 1.18,
but I&rsquo;ll leave that for another post). Without interfaces the code would look like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">manager</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">name</span>   <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">salary</span> <span style="color:#66d9ef">int</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">email</span>  <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">role</span>   <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">developer</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">name</span>    <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">salary</span>  <span style="color:#66d9ef">int</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">email</span>   <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">role</span>    <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">manager</span> <span style="color:#a6e22e">manager</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// We are only interested in name, salary and role of our employees</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">showInfoM</span>(<span style="color:#a6e22e">m</span> <span style="color:#a6e22e">manager</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Name: %s, Salary: %d, Role: %s\n&#34;</span>, <span style="color:#a6e22e">m</span>.<span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">m</span>.<span style="color:#a6e22e">salary</span>, <span style="color:#a6e22e">m</span>.<span style="color:#a6e22e">role</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">showInfoD</span>(<span style="color:#a6e22e">d</span> <span style="color:#a6e22e">developer</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Name: %s, Salary: %d, Role: %s\n&#34;</span>, <span style="color:#a6e22e">d</span>.<span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">d</span>.<span style="color:#a6e22e">salary</span>, <span style="color:#a6e22e">d</span>.<span style="color:#a6e22e">role</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">bob</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">manager</span>{<span style="color:#e6db74">&#34;Bob&#34;</span>, <span style="color:#ae81ff">7000</span>, <span style="color:#e6db74">&#34;bob@example.com&#34;</span>, <span style="color:#e6db74">&#34;Manager&#34;</span>}
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">joe</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">developer</span>{<span style="color:#e6db74">&#34;Joe&#34;</span>, <span style="color:#ae81ff">4000</span>, <span style="color:#e6db74">&#34;joe@example.com&#34;</span>, <span style="color:#e6db74">&#34;Developer&#34;</span>, <span style="color:#a6e22e">bob</span>}
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">marc</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">developer</span>{<span style="color:#e6db74">&#34;Marc&#34;</span>, <span style="color:#ae81ff">4500</span>, <span style="color:#e6db74">&#34;marc@example.com&#34;</span>, <span style="color:#e6db74">&#34;Developer&#34;</span>, <span style="color:#a6e22e">bob</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">showInfoM</span>(<span style="color:#a6e22e">bob</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">showInfoD</span>(<span style="color:#a6e22e">joe</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">showInfoD</span>(<span style="color:#a6e22e">marc</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Output:</p>
<pre tabindex="0"><code>Name: Bob, Salary: 7000, Role: Manager
Name: Joe, Salary: 4000, Role: Developer
Name: Marc, Salary: 4500, Role: Developer
</code></pre><p>The output is fine, but it would be nice if we had one function that works with both types instead of one function
for each type. Before we implement our interface, let&rsquo;s have a look at methods which we will need later on to
implement our interface.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">m</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">manager</span>) <span style="color:#a6e22e">showInfo</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Name: %s, Salary: %d, Role: %s\n&#34;</span>, <span style="color:#a6e22e">m</span>.<span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">m</span>.<span style="color:#a6e22e">salary</span>, <span style="color:#a6e22e">m</span>.<span style="color:#a6e22e">role</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">d</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">developer</span>) <span style="color:#a6e22e">showInfo</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Name: %s, Salary: %d, Role: %s\n&#34;</span>, <span style="color:#a6e22e">d</span>.<span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">d</span>.<span style="color:#a6e22e">salary</span>, <span style="color:#a6e22e">d</span>.<span style="color:#a6e22e">role</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Inside main function</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">bob</span>.<span style="color:#a6e22e">showInfo</span>()
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">joe</span>.<span style="color:#a6e22e">showInfo</span>()
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">marc</span>.<span style="color:#a6e22e">showInfo</span>()
</span></span></code></pre></div><p>Output:</p>
<pre tabindex="0"><code>Name: Bob, Salary: 7000, Role: Manager
Name: Joe, Salary: 4000, Role: Developer
Name: Marc, Salary: 4500, Role: Developer
</code></pre><p>You can see how the methods resemble OOP code, just instead of implementing the methods inside classes (which don&rsquo;t
exist in Go) you simply define functions that work on receivers, in this case of type *manager and *developer.
But we don&rsquo;t want to have a function that takes the employee as a receiver, we want one that takes the employee
as a parameter. Here is the employee interface:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">employee</span> <span style="color:#66d9ef">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">showInfo</span>()
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>That&rsquo;s it! Now every type that implements showInfo is automatically also of type employee which means we can define
a function that take type employee as a parameter and pass any type that implements the interface. Since we already
defined showInfo on our types manager and developer, they implement the interface, the only thing left to do
is to define our showInfo function:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">showInfo</span>(<span style="color:#a6e22e">e</span> <span style="color:#a6e22e">employee</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">showInfo</span>()
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Inside main function</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">showInfo</span>(<span style="color:#f92672">&amp;</span><span style="color:#a6e22e">bob</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">showInfo</span>(<span style="color:#f92672">&amp;</span><span style="color:#a6e22e">joe</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">showInfo</span>(<span style="color:#f92672">&amp;</span><span style="color:#a6e22e">marc</span>)
</span></span></code></pre></div><p>Output remains the same:</p>
<pre tabindex="0"><code>Name: Bob, Salary: 7000, Role: Manager
Name: Joe, Salary: 4000, Role: Developer
Name: Marc, Salary: 4500, Role: Developer
</code></pre><p>There you go, we now have one function we (or anyone using our code) call when we want to print employee information
instead of one function for each type, a welcoming simplification.</p>

    </div>
    <div class="post-footer">
      
    </div>
  </article>

    </main>
  </body>
</html>
